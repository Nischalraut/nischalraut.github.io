<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NISCHAL RAUT | AERO-OS | WARP CORE</title>
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpolygon points='50,10 90,90 50,75 10,90' fill='%23FC3D21'/%3E%3C/svg%3E">

    <!-- LIBRARIES -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100;400;800&family=Rajdhani:wght@300;500;600;700&family=Syncopate:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* 
        ========================================================================
        1. SYSTEM CORE VARIABLES
        ========================================================================
        */
        :root {
            --c-void: #030405;
            --c-panel: rgba(8, 12, 16, 0.85);
            --c-border: rgba(255, 255, 255, 0.1);
            --active-color: #FC3D21; /* Dynamic Theme Color */
            
            --f-head: 'Syncopate', sans-serif;
            --f-body: 'Rajdhani', sans-serif;
            --f-code: 'JetBrains Mono', monospace;
            
            --nav-w: 80px;
            --head-h: 80px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; user-select: none; }
        
        body {
            background-color: var(--c-void); color: #E0E6ED;
            font-family: var(--f-body); overflow: hidden;
            width: 100vw; height: 100vh;
            transition: --active-color 0.5s ease;
        }

        /* 
        ========================================================================
        2. VISUAL LAYERS
        ========================================================================
        */
        #gl-canvas { position: fixed; inset: 0; z-index: 0; }
        
        .scanlines {
            position: fixed; inset: 0; z-index: 10; pointer-events: none;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.3) 50%, rgba(0,0,0,0.3));
            background-size: 100% 4px; opacity: 0.4;
        }
        
        .vignette {
            position: fixed; inset: 0; z-index: 9; pointer-events: none;
            background: radial-gradient(circle, transparent 40%, #000 130%);
        }

        /* CURSOR */
        #cursor {
            position: fixed; top: 0; left: 0; width: 20px; height: 20px;
            border: 1px solid var(--active-color); transform: translate(-50%, -50%) rotate(45deg);
            pointer-events: none; z-index: 10000; mix-blend-mode: exclusion;
            transition: width 0.2s, height 0.2s, border-color 0.5s;
        }
        #cursor-follower {
            position: fixed; top: 0; left: 0; width: 40px; height: 40px;
            border: 1px dashed var(--active-color); border-radius: 50%;
            transform: translate(-50%, -50%); pointer-events: none; z-index: 9999;
            opacity: 0.5; transition: 0.1s ease-out;
        }
        body.hovering #cursor { width: 50px; height: 50px; background: rgba(255,255,255,0.1); }

        /* 
        ========================================================================
        3. HUD INTERFACE
        ========================================================================
        */
        header {
            position: fixed; top: 0; left: 0; width: 100%; height: var(--head-h);
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 3rem; background: rgba(3, 4, 5, 0.9); border-bottom: 1px solid var(--c-border);
            z-index: 100; backdrop-filter: blur(10px);
        }
        .brand { font-family: var(--f-head); font-size: 1.5rem; letter-spacing: 2px; }
        .brand span { color: var(--active-color); transition: color 0.5s; }
        
        .sys-stats {
            font-family: var(--f-code); font-size: 10px; display: flex; gap: 20px; color: var(--active-color);
        }

        aside {
            position: fixed; top: var(--head-h); left: 0; bottom: 0; width: var(--nav-w);
            border-right: 1px solid var(--c-border); background: rgba(3, 4, 5, 0.6);
            display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 3rem;
            z-index: 90;
        }
        .nav-dot {
            width: 12px; height: 12px; border: 1px solid #666; transform: rotate(45deg);
            cursor: pointer; transition: 0.3s;
        }
        .nav-dot:hover, .nav-dot.active { background: var(--active-color); border-color: var(--active-color); box-shadow: 0 0 10px var(--active-color); }

        footer {
            position: fixed; bottom: 0; left: var(--nav-w); right: 0; height: 30px;
            background: rgba(0,0,0,0.9); border-top: 1px solid var(--c-border);
            display: flex; align-items: center; padding: 0 20px; z-index: 100;
            font-family: var(--f-code); font-size: 10px; color: var(--active-color);
        }

        /* 
        ========================================================================
        4. CONTENT SECTORS
        ========================================================================
        */
        .sector {
            position: absolute; top: var(--head-h); left: var(--nav-w); right: 0; bottom: 30px;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transform: scale(1.1); transition: 0.5s ease;
            padding: 4rem; overflow: hidden; /* Hide overflow during warp */
        }
        .sector.active { opacity: 1; pointer-events: auto; transform: scale(1); }

        .content-container { width: 100%; max-width: 1200px; display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 4rem; align-items: center; }
        .full-width { grid-template-columns: 1fr; max-width: 1000px; }

        /* Typography */
        h1 { font-family: var(--f-head); font-size: 4rem; line-height: 0.9; margin-bottom: 1rem; color: #fff; text-shadow: 0 0 20px rgba(0,0,0,0.5); }
        h2 { font-family: var(--f-head); font-size: 2.5rem; margin-bottom: 2rem; color: var(--active-color); }
        p { font-size: 1.1rem; line-height: 1.7; color: #ccc; margin-bottom: 1.5rem; }
        .intro-box { border-left: 3px solid var(--active-color); padding-left: 2rem; background: linear-gradient(90deg, rgba(255,255,255,0.05), transparent); }

        /* HERO PROFILE */
        .profile-frame {
            width: 350px; height: 350px; position: relative; margin: auto;
        }
        .p-img { width: 100%; height: 100%; object-fit: cover; clip-path: polygon(20% 0, 100% 0, 100% 80%, 80% 100%, 0 100%, 0 20%); filter: grayscale(0.5); }
        .hud-ring {
            position: absolute; border-radius: 50%; border: 1px dashed var(--active-color); opacity: 0.5;
            animation: spin 20s linear infinite; pointer-events: none;
        }
        .r1 { top: -10%; left: -10%; width: 120%; height: 120%; }
        .r2 { top: -20%; left: -20%; width: 140%; height: 140%; border-style: dotted; animation-direction: reverse; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* PANELS */
        .glass-panel {
            background: var(--c-panel); border: 1px solid var(--c-border); padding: 3rem;
            backdrop-filter: blur(10px); position: relative;
        }
        
        /* SKILLS */
        .skill-row { display: flex; justify-content: space-between; margin-bottom: 5px; font-family: var(--f-code); font-size: 12px; }
        .skill-track { width: 100%; height: 4px; background: rgba(255,255,255,0.1); margin-bottom: 1.5rem; }
        .skill-fill { height: 100%; background: var(--active-color); box-shadow: 0 0 10px var(--active-color); }

        /* PROJECTS CARD */
        .grid-mission { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
        .card {
            background: rgba(255,255,255,0.03); border: 1px solid var(--c-border); padding: 2rem;
            transition: 0.3s; cursor: pointer;
        }
        .card:hover { transform: translateY(-5px); border-color: var(--active-color); background: rgba(255,255,255,0.05); }
        .tag { font-family: var(--f-code); font-size: 10px; color: var(--active-color); border: 1px solid var(--active-color); padding: 2px 6px; display: inline-block; margin-bottom: 1rem; }

        /* WARP TRIGGER BUTTON */
        .warp-control {
            position: absolute; bottom: 60px; left: 50%; transform: translateX(-50%);
            display: flex; flex-direction: column; align-items: center; z-index: 50;
            transition: opacity 0.5s;
        }
        .sector.active ~ .warp-control { opacity: 1; pointer-events: auto; }
        
        .warp-btn {
            background: rgba(0,0,0,0.8); border: 1px solid var(--active-color);
            color: var(--active-color); font-family: var(--f-head); font-size: 1rem;
            padding: 15px 40px; clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
            transition: 0.3s; text-transform: uppercase; letter-spacing: 2px;
        }
        .warp-btn:hover { background: var(--active-color); color: #000; box-shadow: 0 0 30px var(--active-color); }

        /* BOOT SCREEN */
        #boot-layer {
            position: fixed; inset: 0; background: #000; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
        .init-btn {
            padding: 20px 50px; background: transparent; border: 1px solid #fff; color: #fff;
            font-family: var(--f-head); cursor: pointer; transition: 0.3s;
        }
        .init-btn:hover { background: #fff; color: #000; }

        /* MODAL */
        #modal {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 500;
            display: flex; align-items: center; justify-content: center; opacity: 0; pointer-events: none; transition: 0.3s;
        }
        #modal.open { opacity: 1; pointer-events: auto; }
        .modal-box { width: 800px; background: #050505; border: 1px solid var(--active-color); padding: 3rem; }

    </style>
</head>
<body>

    <!-- BACKGROUND ENGINE -->
    <canvas id="gl-canvas"></canvas>
    <div class="scanlines"></div>
    <div class="vignette"></div>
    <div id="cursor"></div>
    <div id="cursor-follower"></div>

    <!-- BOOT -->
    <div id="boot-layer">
        <div style="font-family:var(--f-code); margin-bottom:20px; color:var(--active-color);">AERO-OS v11.0</div>
        <button class="init-btn" onclick="bootUp()">INITIALIZE SYSTEMS</button>
    </div>

    <!-- HUD -->
    <header>
        <div class="brand">NISCHAL <span>RAUT</span></div>
        <div class="sys-stats">
            <div>STATUS: ONLINE</div>
            <div>WARP DRIVE: READY</div>
        </div>
    </header>

    <aside>
        <div class="nav-dot active" onclick="warpTo(0)"></div>
        <div class="nav-dot" onclick="warpTo(1)"></div>
        <div class="nav-dot" onclick="warpTo(2)"></div>
        <div class="nav-dot" onclick="warpTo(3)"></div>
        <div class="nav-dot" onclick="warpTo(4)"></div>
    </aside>

    <footer>
        > SYSTEM READY. WAITING FOR INPUT..._
    </footer>

    <!-- CONTENT SECTORS -->
    
    <!-- 0. COMMAND (HOME) -->
    <div id="sec-0" class="sector active" data-color="#FC3D21">
        <div class="content-container">
            <div>
                <div style="font-family:var(--f-code); color:var(--active-color); margin-bottom:1rem;">// PILOT IDENTIFIED</div>
                <h1>NISCHAL<br>RAUT</h1>
                <div class="intro-box">
                    <p>Aerospace Engineering Graduate specializing in Experimental Aerodynamics, CFD Analysis, and UAV Avionics Integration. I bridge the gap between theoretical models and physical validation.</p>
                </div>
            </div>
            <div class="profile-frame">
                <div class="hud-ring r1"></div>
                <div class="hud-ring r2"></div>
                <img src="profile.jpg" class="p-img" alt="Profile">
            </div>
        </div>
    </div>

    <!-- 1. PROFILE (SKILLS) -->
    <div id="sec-1" class="sector" data-color="#00F0FF">
        <div class="content-container full-width">
            <h2>SYSTEM CAPABILITIES</h2>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:4rem;">
                <div class="glass-panel">
                    <div class="skill-row"><span>CFD (ANSYS)</span><span>70%</span></div>
                    <div class="skill-track"><div class="skill-fill" style="width:70%"></div></div>
                    
                    <div class="skill-row"><span>CAD (CATIA)</span><span>80%</span></div>
                    <div class="skill-track"><div class="skill-fill" style="width:80%"></div></div>
                    
                    <div class="skill-row"><span>PROGRAMMING</span><span>60%</span></div>
                    <div class="skill-track"><div class="skill-fill" style="width:60%"></div></div>
                    
                    <div class="skill-row"><span>WIND TUNNEL</span><span>80%</span></div>
                    <div class="skill-track"><div class="skill-fill" style="width:80%"></div></div>
                </div>
                <div class="glass-panel" style="text-align:center; border-style:dashed; cursor:pointer;" onclick="unlockVault()">
                    <div style="font-size:3rem; margin-bottom:1rem;">ðŸ”’</div>
                    <h3>ACADEMIC VAULT</h3>
                    <div id="vault-open" style="display:none; height:100px; align-items:flex-end; gap:5px; margin-top:20px;"></div>
                    <div id="vault-txt" style="margin-top:10px; font-family:var(--f-code);">CLICK TO DECRYPT</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 2. MISSIONS (PROJECTS) -->
    <div id="sec-2" class="sector" data-color="#39FF14">
        <div class="content-container full-width">
            <h2>MISSION LOGS</h2>
            <div class="grid-mission">
                <div class="card" onclick="openModal('tunnel')">
                    <span class="tag">RESEARCH</span>
                    <h3>SUBSONIC WIND TUNNEL</h3>
                    <p style="font-size:0.9rem; color:#ccc;">Design and dev of open-jet tunnel with gust generator.</p>
                </div>
                <div class="card" onclick="openModal('b52')">
                    <span class="tag">DESIGN</span>
                    <h3>B-52 AIR LAUNCH</h3>
                    <p style="font-size:0.9rem; color:#ccc;">Retrofitting B-52 for smallsat launch feasibility.</p>
                </div>
                <div class="card" onclick="openModal('glider')">
                    <span class="tag">FABRICATION</span>
                    <h3>STYROFOAM GLIDER</h3>
                    <p style="font-size:0.9rem; color:#ccc;">Scratch-built RC aircraft with XFLR5 Analysis.</p>
                </div>
                <div class="card" onclick="openModal('f15')">
                    <span class="tag">CFD</span>
                    <h3>F-15 FLOW ANALYSIS</h3>
                    <p style="font-size:0.9rem; color:#ccc;">Supersonic flow simulation (Mach 2.5).</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 3. LOGS (HISTORY) -->
    <div id="sec-3" class="sector" data-color="#FFA500">
        <div class="content-container full-width">
            <h2>FLIGHT HISTORY</h2>
            <div class="glass-panel">
                <div style="margin-bottom:2rem;">
                    <div style="font-family:var(--f-code); font-size:12px; color:var(--active-color);">DEC 2024 - PRESENT</div>
                    <h3>ASSOCIATE ENGINEER</h3>
                    <div style="font-size:0.9rem; color:#ccc;">AIRBUS INDIA - INTEGRATION TEST & ANALYTICS</div>
                </div>
                <div style="margin-bottom:2rem;">
                    <div style="font-family:var(--f-code); font-size:12px; color:var(--active-color);">JULY 2024 - NOV 2024</div>
                    <h3>SYSTEM TESTING INTERN</h3>
                    <div style="font-size:0.9rem; color:#ccc;">AIRBUS INDIA</div>
                </div>
                <div>
                    <div style="font-family:var(--f-code); font-size:12px; color:var(--active-color);">2024</div>
                    <h3>ENGINEERING INTERN</h3>
                    <div style="font-size:0.9rem; color:#ccc;">AIRLIFT TECHNOLOGY</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 4. COMMS -->
    <div id="sec-4" class="sector" data-color="#FFFFFF">
        <div class="content-container full-width" style="text-align:center;">
            <h2>ESTABLISH LINK</h2>
            <p>nischalraut6@gmail.com</p>
            <div style="display:flex; justify-content:center; gap:20px; margin-bottom:30px;">
                <a href="https://linkedin.com" target="_blank" class="warp-btn" style="text-decoration:none; font-size:0.8rem; padding:10px 20px;">LINKEDIN</a>
                <a href="https://github.com" target="_blank" class="warp-btn" style="text-decoration:none; font-size:0.8rem; padding:10px 20px;">GITHUB</a>
            </div>
            <button class="warp-btn" onclick="warpTo(0)">RETURN TO COMMAND</button>
        </div>
    </div>

    <!-- GLOBAL BUTTON -->
    <div class="warp-control">
        <div style="font-family:var(--f-code); font-size:10px; margin-bottom:10px; color:#aaa;">INITIATE JUMP</div>
        <button class="warp-btn" onclick="warpNext()">NEXT SECTOR</button>
    </div>

    <!-- MODAL -->
    <div id="modal">
        <div class="modal-box">
            <div style="text-align:right; cursor:pointer;" onclick="closeModal()">[ CLOSE ]</div>
            <h2 id="m-title">TITLE</h2>
            <p id="m-desc">...</p>
        </div>
    </div>

    <script>
        /* 
        ========================================================================
        1. AUDIO ENGINE
        ========================================================================
        */
        let audioCtx;
        function initAudio() {
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        }

        function playWarpSound(duration) {
            if(!audioCtx) return;
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            
            // Rising pitch for acceleration
            osc.frequency.setValueAtTime(100, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(8000, audioCtx.currentTime + duration);
            
            gain.gain.setValueAtTime(0.2, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration);

            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + duration);
        }

        /* 
        ========================================================================
        2. THREE.JS WARP DRIVE
        ========================================================================
        */
        let scene, camera, renderer, stars;
        let warpSpeed = 0;
        let baseSpeed = 0.5;

        function init3D() {
            const canvas = document.getElementById('gl-canvas');
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
            camera.position.z = 1;
            camera.rotation.x = Math.PI/2;

            renderer = new THREE.WebGLRenderer({ canvas, alpha: false });
            renderer.setSize(window.innerWidth, window.innerHeight);

            // Stars
            const geo = new THREE.BufferGeometry();
            const count = 4000;
            const pos = new Float32Array(count * 3);
            for(let i=0; i<count*3; i++) {
                pos[i] = (Math.random() - 0.5) * 600;
            }
            geo.setAttribute('position', new THREE.BufferAttribute(pos, 3));
            
            const mat = new THREE.PointsMaterial({ color: 0xffffff, size: 0.5 });
            stars = new THREE.Points(geo, mat);
            scene.add(stars);

            animate();
        }

        function animate() {
            const pos = stars.geometry.attributes.position.array;
            
            for(let i=1; i<pos.length; i+=3) {
                pos[i] -= (baseSpeed + warpSpeed);
                if(pos[i] < -300) pos[i] = 300;
            }
            
            stars.geometry.attributes.position.needsUpdate = true;
            
            // Warp Effect Stretch
            if(warpSpeed > 2) {
                stars.scale.y = 20; // Stretch streaks
            } else {
                stars.scale.y = 1;
            }

            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }

        /* 
        ========================================================================
        3. APP STATE & NAVIGATION
        ========================================================================
        */
        let currentIdx = 0;
        let isWarping = false;
        const total = 5;

        function bootUp() {
            initAudio();
            gsap.to('#boot-layer', { yPercent: -100, duration: 1, ease: 'power4.inOut' });
            init3D();
        }

        function warpNext() {
            warpTo((currentIdx + 1) % total);
        }

        function warpTo(idx) {
            if(isWarping || idx === currentIdx) return;
            isWarping = true;

            // Calculate distance factor for warp duration (longer jump = longer warp)
            const dist = Math.abs(idx - currentIdx);
            const duration = 1.0 + (dist * 0.2); 

            // Audio
            playWarpSound(duration);

            // Hide Current
            const oldSec = document.getElementById(`sec-${currentIdx}`);
            const newSec = document.getElementById(`sec-${idx}`);
            const oldDot = document.querySelectorAll('.nav-dot')[currentIdx];
            const newDot = document.querySelectorAll('.nav-dot')[idx];

            oldSec.classList.remove('active');
            oldDot.classList.remove('active');
            document.querySelector('.warp-control').style.opacity = 0;

            // 3D Acceleration
            gsap.to(this, {
                duration: duration * 0.5,
                warpSpeed: 50,
                onComplete: () => {
                    // Update Theme during warp peak
                    const color = newSec.getAttribute('data-color');
                    document.documentElement.style.setProperty('--active-color', color);
                    
                    // Update Sidebar dots color immediately via CSS var
                    
                    // Decelerate
                    gsap.to(this, {
                        duration: duration * 0.5,
                        warpSpeed: 0,
                        onComplete: () => {
                            isWarping = false;
                            newSec.classList.add('active');
                            newDot.classList.add('active');
                            document.querySelector('.warp-control').style.opacity = 1;
                            currentIdx = idx;
                        }
                    });
                }
            });
        }

        /* 
        ========================================================================
        4. INTERACTIONS (VAULT / MODALS)
        ========================================================================
        */
        const marks = [{v:59}, {v:67}, {v:65}, {v:69}, {v:78}, {v:83}, {v:86}, {v:89}];
        
        function unlockVault() {
            const open = document.getElementById('vault-open');
            const txt = document.getElementById('vault-txt');
            open.style.display = 'flex';
            open.innerHTML = marks.map(m => `<div style="flex:1; background:var(--active-color); height:0%; transition:height 1s ease;" data-h="${m.v}%"></div>`).join('');
            txt.innerText = "AGGREGATE: 76.71%";
            
            setTimeout(() => {
                open.querySelectorAll('div').forEach(d => d.style.height = d.getAttribute('data-h'));
            }, 100);
        }

        const mData = {
            tunnel: { t:"WIND TUNNEL", d:"Design of open-jet tunnel. Validated 0.88% TI." },
            b52: { t:"B-52 LAUNCH", d:"Feasibility of B-52 as smallsat carrier." },
            glider: { t:"UAV GLIDER", d:"Scratch-built RC aircraft." },
            f15: { t:"CFD ANALYSIS", d:"Mach 2.5 simulation in ANSYS." }
        };

        function openModal(id) {
            document.getElementById('m-title').innerText = mData[id].t;
            document.getElementById('m-desc').innerText = mData[id].d;
            document.getElementById('modal').classList.add('open');
        }
        function closeModal() {
            document.getElementById('modal').classList.remove('open');
        }

        // Mouse Follower
        document.addEventListener('mousemove', e => {
            gsap.to('#cursor', { x: e.clientX, y: e.clientY, duration: 0 });
            gsap.to('#cursor-follower', { x: e.clientX, y: e.clientY, duration: 0.1 });
            
            if(e.target.tagName === 'BUTTON' || e.target.classList.contains('card') || e.target.classList.contains('nav-dot')) {
                document.body.classList.add('hovering');
            } else {
                document.body.classList.remove('hovering');
            }
        });

    </script>
</body>
</html>
