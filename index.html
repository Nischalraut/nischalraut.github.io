<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Nischal Raut | Aerospace Engineer</title>

  <!-- Dynamic Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' fill='%23FC3D21'/%3E%3Ctext x='50%25' y='50%25' dy='.35em' fill='white' font-family='sans-serif' font-weight='bold' font-size='36' text-anchor='middle'%3EN%3C/text%3E%3C/svg%3E">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400&family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root {
      /* Colors */
      --bg-body: #050505;
      --bg-surface: #121216;
      --text-main: #ffffff;
      --text-muted: #94a3b8;
      --accent-primary: #FC3D21;
      --accent-secondary: #3b82f6;
      --border-color: rgba(255, 255, 255, 0.1);
      
      /* Fonts */
      --font-heading: 'Outfit', sans-serif;
      --font-body: 'Inter', sans-serif;
      --font-tech: 'JetBrains Mono', monospace;
      
      --nav-height: 80px;
    }

    [data-theme="light"] {
      --bg-body: #f0f9ff;
      --bg-surface: #ffffff;
      --text-main: #0f172a;
      --text-muted: #475569;
      --accent-primary: #dc2626;
      --border-color: rgba(0, 0, 0, 0.1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: var(--font-body);
      color: var(--text-main);
      background-color: var(--bg-body);
      overflow: hidden; /* Prevent scrolling, using modals instead */
      height: 100vh;
      width: 100vw;
      transition: background 0.5s;
    }

    /* 
     * -----------------------------------------------------------
     * 1. ADVANCED BACKGROUND ANIMATION
     * -----------------------------------------------------------
     */
    .bg-container {
      position: fixed; inset: 0; z-index: -1; pointer-events: none;
    }

    /* --- DARK MODE COSMOS --- */
    .cosmos-layer {
      position: absolute; inset: 0;
      background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%);
      opacity: 0; transition: opacity 1s;
    }
    [data-theme="dark"] .cosmos-layer { opacity: 1; }

    /* Parallax Stars */
    .star-field { position: absolute; inset: 0; }
    .star-field.small { animation: starMove 100s linear infinite; background-image: radial-gradient(1px 1px at 10% 10%, white, transparent), radial-gradient(1px 1px at 20% 40%, white, transparent), radial-gradient(1px 1px at 50% 80%, white, transparent); background-size: 500px 500px; opacity: 0.5; }
    .star-field.medium { animation: starMove 150s linear infinite; background-image: radial-gradient(2px 2px at 30% 20%, white, transparent), radial-gradient(2px 2px at 70% 60%, white, transparent); background-size: 600px 600px; opacity: 0.8; }

    /* Shooting Star (Comet) */
    .comet {
      position: absolute; top: 0; left: 50%; width: 150px; height: 2px;
      background: linear-gradient(90deg, #fff, transparent);
      transform: rotate(-45deg); opacity: 0;
      animation: shoot 8s ease-in-out infinite; filter: drop-shadow(0 0 6px white);
    }
    .comet:nth-child(2) { top: 20%; animation-delay: 4s; width: 100px; }

    /* Drifting Satellite */
    .satellite {
      position: absolute; top: 20%; left: -50px; width: 30px; height: 30px;
      background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3);
      animation: floatSat 60s linear infinite;
    }
    .satellite::after { content:''; position: absolute; width: 40px; height: 2px; background: #555; top: 14px; left: -5px; }

    /* --- LIGHT MODE SKY --- */
    .sky-layer {
      position: absolute; inset: 0;
      background: linear-gradient(180deg, #38bdf8 0%, #e0f2fe 100%);
      opacity: 0; transition: opacity 1s;
    }
    [data-theme="light"] .sky-layer { opacity: 1; }

    .cloud {
      position: absolute; background: rgba(255,255,255,0.8); border-radius: 50px;
      filter: blur(8px); animation: drift linear infinite;
    }
    .c1 { width: 200px; height: 80px; top: 10%; left: -200px; animation-duration: 40s; }
    .c2 { width: 300px; height: 100px; top: 30%; left: -300px; animation-duration: 60s; opacity: 0.6; }

    /* 3D Realistic Rocket */
    .rocket-complex {
      position: absolute; bottom: -200px; right: 15%;
      width: 40px; height: 120px;
      background: linear-gradient(90deg, #e2e8f0, #cbd5e1, #94a3b8);
      border-radius: 50% 50% 5px 5px;
      transform: rotate(-15deg);
      box-shadow: inset -5px 0 10px rgba(0,0,0,0.2);
      animation: launch3D 15s ease-in-out infinite;
      z-index: 0;
    }
    .rocket-complex::before { /* Nose cone shadow */
      content:''; position: absolute; top:0; left:0; width:100%; height:30px;
      background: linear-gradient(90deg, rgba(255,255,255,0.8), transparent);
      border-radius: 50% 50% 0 0;
    }
    .fins {
      position: absolute; bottom: 0; width: 100%; height: 25px;
    }
    .fins::before, .fins::after {
      content:''; position: absolute; bottom: 0; width: 15px; height: 35px; background: #64748b;
      transform-origin: bottom center;
    }
    .fins::before { left: -10px; transform: skewY(30deg); border-radius: 5px 0 0 0; }
    .fins::after { right: -10px; transform: skewY(-30deg); border-radius: 0 5px 0 0; }
    
    .exhaust {
      position: absolute; bottom: -40px; left: 5px; width: 30px; height: 60px;
      background: linear-gradient(to bottom, #f59e0b, #ef4444, transparent);
      filter: blur(4px); border-radius: 50%;
      animation: thrust 0.1s infinite alternate;
    }

    /* Animations */
    @keyframes starMove { from { transform: translateY(0); } to { transform: translateY(-1000px); } }
    @keyframes shoot { 0% { transform: translate(0,0) rotate(-45deg); opacity: 0; } 10% { opacity: 1; } 20% { transform: translate(-500px, 500px) rotate(-45deg); opacity: 0; } 100% { opacity: 0; } }
    @keyframes floatSat { from { transform: translate(0,0) rotate(0deg); } to { transform: translate(110vw, 50vh) rotate(360deg); } }
    @keyframes launch3D { 0% { bottom: -200px; transform: rotate(-15deg); } 30% { bottom: 120vh; transform: rotate(-10deg); } 100% { bottom: 120vh; } }
    @keyframes thrust { 0% { height: 60px; opacity: 0.8; } 100% { height: 70px; opacity: 1; } }
    @keyframes drift { to { transform: translateX(120vw); } }

    /* 
     * -----------------------------------------------------------
     * 2. UI LAYOUT
     * -----------------------------------------------------------
     */
    nav {
      position: fixed; top: 0; width: 100%; height: var(--nav-height);
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 3em; z-index: 1000;
      background: rgba(0,0,0,0.02); backdrop-filter: blur(5px);
    }
    nav .brand { font-family: var(--font-heading); font-weight: 800; font-size: 1.5em; cursor: pointer; }
    nav ul { display: flex; gap: 2em; }
    nav ul li { cursor: pointer; font-weight: 500; font-size: 0.95em; position: relative; opacity: 0.7; transition: 0.3s; }
    nav ul li:hover { opacity: 1; color: var(--accent-primary); }
    nav ul li.active-link { opacity: 1; color: var(--accent-primary); }

    .theme-toggle { cursor: pointer; padding: 10px; border-radius: 50%; background: rgba(255,255,255,0.1); }

    /* Main Content Area */
    .main-wrapper {
      position: relative; width: 100%; height: 100vh;
      display: flex; align-items: center; justify-content: center;
    }

    /* Section Modals (Hidden by default, fade in) */
    .section-modal {
      position: absolute; inset: 0;
      padding-top: var(--nav-height);
      background: rgba(0,0,0,0.6); /* Tint */
      backdrop-filter: blur(15px);
      display: flex; flex-direction: column; align-items: center;
      opacity: 0; pointer-events: none; transform: scale(0.95);
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      overflow-y: auto;
    }
    [data-theme="light"] .section-modal { background: rgba(255,255,255,0.85); }
    
    .section-modal.active {
      opacity: 1; pointer-events: all; transform: scale(1); z-index: 500;
    }

    /* Close Button for Modals */
    .close-section {
      position: absolute; top: 100px; right: 40px;
      font-size: 2em; cursor: pointer; z-index: 501;
      opacity: 0.5; transition: 0.3s;
    }
    .close-section:hover { opacity: 1; color: var(--accent-primary); }

    .container { max-width: 1000px; width: 100%; padding: 2em; }

    /* Hero (Always visible behind, but z-indexed lower when modal active) */
    .hero-container {
      text-align: center; z-index: 1;
      transition: 0.3s;
    }
    .hero-container.blur { filter: blur(5px); opacity: 0.5; }
    
    h1 { font-size: 4.5em; font-weight: 800; letter-spacing: -0.04em; line-height: 1; margin-bottom: 0.2em; }
    h2 { font-size: 1.5em; color: var(--accent-primary); font-family: var(--font-tech); margin-bottom: 1em; }
    p { font-size: 1.1em; max-width: 600px; margin: 0 auto 2em; color: var(--text-muted); line-height: 1.6; }
    
    .btn {
      padding: 0.8em 2em; border-radius: 50px; border: 1px solid var(--border-color);
      background: rgba(255,255,255,0.05); color: var(--text-main); font-weight: 600;
      cursor: pointer; transition: 0.3s; margin: 0 0.5em;
    }
    .btn:hover { background: var(--accent-primary); border-color: var(--accent-primary); color: white; }
    .btn-primary { background: var(--accent-primary); border-color: var(--accent-primary); color: white; }

    /* 
     * -----------------------------------------------------------
     * 3. CONTENT STYLES
     * -----------------------------------------------------------
     */
    
    /* Academic Section (Locked) */
    .academic-lock-wrapper {
      position: relative;
      background: var(--bg-surface);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      padding: 3em;
      text-align: center;
      overflow: hidden;
      min-height: 400px;
    }
    .blur-overlay {
      position: absolute; inset: 0;
      backdrop-filter: blur(15px);
      background: rgba(0,0,0,0.5);
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      z-index: 10;
      transition: 0.5s;
    }
    .blur-overlay.unlocked { transform: translateY(-100%); pointer-events: none; }
    
    .lock-icon { font-size: 3em; margin-bottom: 0.5em; color: var(--accent-primary); }

    /* The Graph */
    .graph-container {
      display: flex; justify-content: space-between; align-items: flex-end;
      height: 300px; width: 100%; padding-top: 2em;
    }
    .bar-group {
      display: flex; flex-direction: column; align-items: center; justify-content: flex-end;
      height: 100%; width: 10%;
    }
    .bar {
      width: 100%; background: linear-gradient(to top, var(--accent-primary), #fb923c);
      border-radius: 5px 5px 0 0; position: relative;
      transition: height 1s ease;
      height: 0; /* Animate to height */
    }
    .bar-label { margin-top: 10px; font-size: 0.8em; color: var(--text-muted); }
    .bar-val { position: absolute; top: -25px; font-size: 0.75em; font-weight: bold; color: var(--text-main); }

    /* Experience Timeline */
    .job-card {
      background: var(--bg-surface); border-left: 4px solid var(--accent-primary);
      padding: 1.5em; margin-bottom: 1.5em; border-radius: 0 10px 10px 0;
      position: relative;
    }
    .job-card h3 { font-size: 1.3em; margin-bottom: 0.2em; }
    .job-card .company { color: var(--accent-primary); font-weight: 700; font-family: var(--font-tech); }
    .job-card .date { font-size: 0.9em; color: var(--text-muted); margin-bottom: 1em; display: block; }
    
    /* Project Grid */
    .project-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5em; }
    .p-card {
      background: var(--bg-surface); border: 1px solid var(--border-color);
      border-radius: 12px; padding: 1.5em; cursor: pointer; transition: 0.3s;
    }
    .p-card:hover { transform: translateY(-5px); border-color: var(--accent-primary); }

    /* Detail Modal (Nested) */
    .detail-modal {
      display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9);
      z-index: 2000; padding: 2em; align-items: center; justify-content: center;
    }
    .detail-content {
      background: var(--bg-surface); max-width: 800px; width: 100%;
      border-radius: 12px; padding: 2em; position: relative;
    }

  </style>
</head>
<body>

  <!-- Backgrounds -->
  <div class="bg-container">
    <div class="cosmos-layer">
      <div class="star-field small"></div>
      <div class="star-field medium"></div>
      <div class="comet"></div>
      <div class="comet"></div>
      <div class="satellite"></div>
    </div>
    <div class="sky-layer">
      <div class="cloud c1"></div>
      <div class="cloud c2"></div>
      <div class="rocket-complex">
        <div class="fins"></div>
        <div class="exhaust"></div>
      </div>
    </div>
  </div>

  <!-- Nav -->
  <nav>
    <div class="brand" onclick="goHome()">NR<span style="color:var(--accent-primary)">.</span></div>
    <ul>
      <li onclick="openSection('skills')">Skills</li>
      <li onclick="openSection('projects')">Work</li>
      <li onclick="openSection('experience')">Experience</li>
      <li onclick="openSection('academic')">Academic</li>
      <li onclick="openSection('contact')">Contact</li>
    </ul>
    <div class="theme-toggle" id="themeBtn">ðŸŒ“</div>
  </nav>

  <!-- Main View -->
  <div class="main-wrapper">
    
    <!-- Hero (Home) -->
    <div class="hero-container" id="hero">
      <div style="margin-bottom: 1em;">
        <img src="profile.jpg" alt="Profile" style="width:150px; height:150px; border-radius:50%; object-fit:cover; border:3px solid var(--accent-primary); margin:auto;">
      </div>
      <h1>Nischal Raut</h1>
      <h2>&lt;Aerospace Engineer /&gt;</h2>
      <p>
        Specializing in Experimental Aerodynamics, CFD, and UAV Systems.<br>
        Bridging the gap between computational models and flight-ready reality.
      </p>
      <div>
        <button class="btn btn-primary" onclick="openSection('projects')">View Portfolio</button>
        <button class="btn" onclick="openSection('contact')">Get in Touch</button>
      </div>
    </div>

    <!-- SECTIONS (MODALS) -->

    <!-- Skills -->
    <div class="section-modal" id="skills">
      <div class="close-section" onclick="closeSection()">Ã—</div>
      <div class="container">
        <h1>Technical Arsenal</h1>
        <div class="project-grid" style="margin-top:2em;">
          <div class="p-card"><h3>Analysis & CFD</h3><p>ANSYS Fluent, XFLR5, MATLAB Analysis</p></div>
          <div class="p-card"><h3>Design (CAD)</h3><p>CATIA V5, SolidWorks, AutoCAD</p></div>
          <div class="p-card"><h3>Experimental</h3><p>Wind Tunnel Testing, Photogrammetry</p></div>
          <div class="p-card"><h3>Programming</h3><p>Python (Data Vis), C, MATLAB Scripting</p></div>
        </div>
      </div>
    </div>

    <!-- Experience -->
    <div class="section-modal" id="experience">
      <div class="close-section" onclick="closeSection()">Ã—</div>
      <div class="container">
        <h1>Experience</h1>
        <div style="margin-top:2em;">
          
          <div class="job-card">
            <h3>Associate Engineer - Integration Test & Analytics</h3>
            <span class="company">AIRBUS INDIA, Bangalore</span>
            <span class="date">Dec 2024 â€“ Present</span>
            <p>Responsible for integration testing of avionics subsystems and data analytics for flight test campaigns. Automating test procedures to enhance efficiency.</p>
          </div>

          <div class="job-card">
            <h3>Intern - System Testing Engineer</h3>
            <span class="company">AIRBUS INDIA, Bangalore</span>
            <span class="date">July 2024 â€“ Nov 2024</span>
            <p>Supported system verification and validation (V&V). Performed functional testing on simulation benches and analyzed test results.</p>
          </div>

          <div class="job-card">
            <h3>Engineering Intern</h3>
            <span class="company">AIRLIFT TECHNOLOGY, Nepal</span>
            <span class="date">Early 2024</span>
            <p>Led drone mapping for Kathmandu Metro. Processed photogrammetry data to generate 3D terrain models.</p>
          </div>

        </div>
      </div>
    </div>

    <!-- Academic (Locked) -->
    <div class="section-modal" id="academic">
      <div class="close-section" onclick="closeSection()">Ã—</div>
      <div class="container">
        <h1>Academic Performance</h1>
        <p>Institute of Engineering, Pulchowk Campus (2019-2025)</p>
        
        <div class="academic-lock-wrapper">
          <!-- The Overlay -->
          <div class="blur-overlay" id="academicOverlay">
            <div class="lock-icon">ðŸ”’</div>
            <h2>Restricted Access</h2>
            <p>Detailed semester breakdown is confidential.</p>
            <div style="margin-top:1em;">
              <button class="btn btn-primary" onclick="requestAccess()">Request Access</button>
              <button class="btn" onclick="unlockDemo()">Demo Unlock (For Portfolio)</button>
            </div>
          </div>

          <!-- The Content -->
          <div style="text-align:left;">
            <h2 style="color:var(--text-main); font-family:var(--font-heading)">Aggregate: <span style="color:var(--accent-primary)">76.71%</span></h2>
            <div class="graph-container">
              <!-- Bars injected via JS -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Projects -->
    <div class="section-modal" id="projects">
      <div class="close-section" onclick="closeSection()">Ã—</div>
      <div class="container">
        <h1>Projects</h1>
        <div class="project-grid" style="margin-top:2em;">
          <div class="p-card" onclick="showDetail('Wind Tunnel')">
            <h3>Subsonic Wind Tunnel</h3>
            <p style="font-size:0.9em; color:var(--accent-primary)">RESEARCH</p>
            <p>Designed open-jet tunnel with gust generator. Validated TI of 0.88%.</p>
          </div>
          <div class="p-card" onclick="showDetail('B-52')">
            <h3>B-52 Air Launch</h3>
            <p style="font-size:0.9em; color:var(--accent-primary)">DESIGN</p>
            <p>Feasibility study of carrier aircraft for satellite launch.</p>
          </div>
          <div class="p-card" onclick="showDetail('Glider')">
            <h3>RC Glider</h3>
            <p style="font-size:0.9em; color:var(--accent-primary)">FABRICATION</p>
            <p>Design, foam cutting, and flight testing.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Contact -->
    <div class="section-modal" id="contact">
      <div class="close-section" onclick="closeSection()">Ã—</div>
      <div class="container" style="text-align:center;">
        <h1>Contact</h1>
        <p>nischalraut6@gmail.com</p>
        <form style="max-width:500px; margin:2em auto; text-align:left;">
          <input type="text" placeholder="Name" style="width:100%; padding:1em; margin-bottom:1em; background:var(--bg-surface); border:1px solid var(--border-color); color:white;">
          <textarea rows="5" placeholder="Message" style="width:100%; padding:1em; margin-bottom:1em; background:var(--bg-surface); border:1px solid var(--border-color); color:white;"></textarea>
          <button class="btn btn-primary" style="width:100%">Send</button>
        </form>
      </div>
    </div>

  </div>

  <!-- Generic Detail Modal -->
  <div class="detail-modal" id="detailModal">
    <div class="detail-content">
      <span class="close-section" onclick="document.getElementById('detailModal').style.display='none'" style="top:10px; right:10px; font-size:1.5em;">Ã—</span>
      <h2 id="modalTitle">Project Title</h2>
      <p id="modalDesc">Details...</p>
    </div>
  </div>

  <script>
    // 1. Theme Logic
    const themeBtn = document.getElementById('themeBtn');
    const root = document.documentElement;
    themeBtn.onclick = () => {
      const curr = root.getAttribute('data-theme');
      const next = curr === 'dark' ? 'light' : 'dark';
      root.setAttribute('data-theme', next);
    };

    // 2. Navigation Logic
    function openSection(id) {
      // Hide other sections
      document.querySelectorAll('.section-modal').forEach(el => el.classList.remove('active'));
      
      // Blur Hero
      document.getElementById('hero').classList.add('blur');
      
      // Show target
      const target = document.getElementById(id);
      target.classList.add('active');

      // If opening academic, prepare graph
      if(id === 'academic') initGraph();
    }

    function closeSection() {
      document.querySelectorAll('.section-modal').forEach(el => el.classList.remove('active'));
      document.getElementById('hero').classList.remove('blur');
    }

    function goHome() {
      closeSection();
    }

    // 3. Academic Graph Logic
    const marks = [
      {sem: '1st', val: 59.68},
      {sem: '2nd', val: 67.43},
      {sem: '3rd', val: 65.29},
      {sem: '4th', val: 69.14},
      {sem: '5th', val: 78.4},
      {sem: '6th', val: 83.75},
      {sem: '7th', val: 86.15},
      {sem: '8th', val: 89.2}
    ];

    function initGraph() {
      const container = document.querySelector('.graph-container');
      if(container.innerHTML.trim() !== "") return; // Already rendered

      marks.forEach(m => {
        const group = document.createElement('div');
        group.className = 'bar-group';
        group.innerHTML = `
          <div class="bar" style="height:0%" data-h="${m.val}%">
            <span class="bar-val">${m.val}%</span>
          </div>
          <span class="bar-label">${m.sem}</span>
        `;
        container.appendChild(group);
      });
    }

    function requestAccess() {
      window.location.href = "mailto:nischalraut6@gmail.com?subject=Request Access to Academic Records";
    }

    function unlockDemo() {
      document.getElementById('academicOverlay').classList.add('unlocked');
      // Animate bars
      setTimeout(() => {
        document.querySelectorAll('.bar').forEach(b => {
          b.style.height = b.getAttribute('data-h');
        });
      }, 300);
    }

    // 4. Detail Modal
    function showDetail(title) {
      const m = document.getElementById('detailModal');
      document.getElementById('modalTitle').innerText = title;
      document.getElementById('modalDesc').innerText = "Detailed technical description of " + title + " goes here. (Placeholder for demo)";
      m.style.display = 'flex';
    }

  </script>
</body>
</html>
